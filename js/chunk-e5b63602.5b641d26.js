(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e5b63602"],{"079d":function(t,e,i){t.exports=i.p+"img/wind.330e5376.svg"},"0c16":function(t,e,i){t.exports=i.p+"img/humidity.a6765183.svg"},"48d5":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"favorites"},[a("div",{staticClass:"favorites__header"},[a("h2",[t._v("Ваши избранные города")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.filters,expression:"filters"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.filters=e.target.multiple?i:i[0]}}},[a("option",{attrs:{value:"По алфавиту А-Я"}},[t._v("По алфавиту: А-Я")]),a("option",{attrs:{value:"По алфавиту Я-А"}},[t._v("По алфавиту: Я-А")]),a("option",{attrs:{value:"По возрастанию"}},[t._v("Дата: по возрастанию")]),a("option",{attrs:{value:"По убыванию"}},[t._v("Дата: по убыванию")])])]),t.loading?a("Loader"):a("transition-group",{staticClass:"favorites__items",attrs:{name:"list",tag:"div"}},[t.favoriteCities?t._e():a("p",{staticClass:"empty"},[t._v("Здесь пока пусто!")]),t._l(t.paginateCities,(function(e){return a("div",{key:e.name,staticClass:"favorites__item"},[a("div",{staticClass:"favorites__item__wrapper"},[a("div",{staticClass:"delete__item",on:{click:function(i){return t.deleteFavoriteItem(e.id)}}},[t._v("Удалить из избранного")]),a("div",{staticClass:"favorites__item__info"},[a("span",{staticClass:"favorites__item__info__city"},[t._v(t._s(e.name))]),a("span",{staticClass:"favorites__item__info__time"},[t._v("Время "+t._s(e.time))])]),a("div",{staticClass:"favorites__temperature"},[a("span",{staticClass:"favorites__temperature__degree"},[a("img",{attrs:{src:i("816a"),alt:"Температура"}}),t._v(t._s(e.temp)+"°C")]),a("div",{staticClass:"favorites__temperature__wrapper"},[a("span",{staticClass:"favorites__temperature__description"},[t._v(t._s(e.description))]),a("span",{staticClass:"favorites__temperature__feels-like"},[t._v("Ощущается как "+t._s(e.feels_like))])])]),a("div",{staticClass:"favorites__additional"},[a("div",{staticClass:"favorites__additional__wind"},[a("img",{attrs:{src:i("079d"),alt:"Ветер"}}),a("p",{staticClass:"wind-speed"},[t._v(t._s(e.speed)+" м/с,")]),a("p",{staticClass:"wind-deg"},[t._v(t._s(e.deg))])]),a("div",{staticClass:"favorites__additional__pressure"},[a("img",{attrs:{src:i("b56a"),alt:"Давление"}}),a("p",[t._v(t._s(e.pressure)+" мм. рт. ст.")])]),a("div",{staticClass:"favorites__additional__humidity"},[a("img",{attrs:{src:i("0c16"),alt:"Влажность"}}),a("p",[t._v(t._s(e.humidity)+" %")])])])])])}))],2),a("Paginate",{attrs:{"page-count":t.pages,"click-handler":t.paginationHandler,"prev-text":"Назад","next-text":"Вперед","container-class":"pagination"}})],1)},s=[],r=(i("4de4"),i("fb6a"),i("b0c0"),i("96cf"),i("1da1")),n=i("5530"),o=i("2f62"),c={data:function(){return{loading:!0,favoriteCities:[],filters:"По алфавиту А-Я",pageNumber:1,pageSize:3}},computed:Object(n["a"])(Object(n["a"])({},Object(o["c"])(["favorites"])),{},{pages:function(){return Math.ceil(this.favoriteCities.length/this.pageSize)},paginateCities:function(){var t=(this.pageNumber-1)*this.pageSize,e=t+this.pageSize;return this.favoriteCities.slice(t,e)}}),watch:{filters:function(){"По возрастанию"===this.filters?this.favoriteCities.sort((function(t,e){return t.date-e.date})):"По убыванию"===this.filters?this.favoriteCities.sort((function(t,e){return e.date-t.date})):"По алфавиту А-Я"===this.filters?this.favoriteCities.sort((function(t,e){var i=t.name.toLowerCase(),a=e.name.toLowerCase();return i<a?-1:i>a?1:0})):"По алфавиту Я-А"===this.filters&&this.favoriteCities.sort((function(t,e){var i=t.name.toLowerCase(),a=e.name.toLowerCase();return i>a?-1:i<a?1:0}))}},methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])(["fetchFavorites","deleteFavorite"])),{},{deleteFavoriteItem:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,e.deleteFavorite(t).then((function(){e.$store.dispatch("openModal","Город успешно удален из списка избранных.")})).catch((function(t){e.$store.dispatch("openModal","При удалении города из списка избранных произошла ошибка.")}));case 2:e.favoriteCities=e.favoriteCities.filter((function(e){return e.id!==t})),e.fetchFavorites();case 4:case"end":return i.stop()}}),i)})))()},paginationHandler:function(t){this.pageNumber=t}}),mounted:function(){this.fetchFavorites(),this.favoriteCities=this.favorites,this.loading=!1}},_=c,l=(i("8f14"),i("2877")),v=Object(l["a"])(_,a,s,!1,null,null,null);e["default"]=v.exports},"816a":function(t,e,i){t.exports=i.p+"img/temperature.3ecd2f16.svg"},"8f14":function(t,e,i){"use strict";i("f36a")},b56a:function(t,e,i){t.exports=i.p+"img/pressure.e61177a5.svg"},f36a:function(t,e,i){}}]);
//# sourceMappingURL=chunk-e5b63602.5b641d26.js.map